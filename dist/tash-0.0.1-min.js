window.tash=window.tash||{};(function(d){d.config={debug:(function(){var f=null;function g(){if(f===null){f=document.getElementById(d.config.debug.consoleId)}return f}function e(h){}return{set:e,consoleId:"debugConsole",isDebug:false,getConsole:g}}()),namespaceRoot:"",namespaceEventsRoot:""};d.namespace=function(e,j){var h,g=e,f=0;if(typeof e=="string"){j=(d.config.namespaceRoot?d.config.namespaceRoot+".":"")+e;g=window}h=!j?"":j.split(".");for(f in h){if(h.hasOwnProperty(f)){if(typeof g[h[f]]==="undefined"){g[h[f]]={}}g=g[h[f]]}}return g};d.isArray=(typeof Array.isArray==="function"?Array.isArray:function a(e){return e!==undefined&&Object.prototype.toString.call(e).match(/Array/)!==null});d.each=function c(h,e,g){var f;if(!d.isArray(h)){return}for(f in h){if(h.hasOwnProperty(f)){if(e.call((g?g:this),h[f],f)===false){break}}}};d.log=function b(f){if(typeof console!=="undefined"&&typeof console.log==="function"){return console.log.apply(console,arguments)}if(d.config.debug.isDebug){var e=document.createElement("p");e.appendChild(document.createTextNode(f));d.config.debug.getConsole().appendChild(e)}}}(window.tash));(function(e){e.namespace(e,"events");var d={};function c(g,f){if(!d[g]){return}e.each(d[g],function(i,h){i.callback.apply(i.scope,f||[])})}function b(f,h,g){if(!f||typeof h!=="function"){return false}if(!d[f]){d[f]=[]}d[f].push({callback:h,scope:(g?g:e)});return[f,h]}function a(g){var f;if(typeof g==="undefined"||!e.isArray(g)){return}f=g[0];if(d[f]){e.each(d[f],function(i,h){if(i==g[1]){d[f].splice(h,1)}})}}e.events.require=function(f){var h=e.config.namespaceEventsRoot||e.config.namespaceRoot,g;if(!f||f.length===0){return}h+=h?(f.charAt(0)==="."?f:"."+f):f;g=e.namespace(h);if(typeof g.publish==="function"){return g}g.publish=function(i){c(f,(e.isArray(i)?i:[i]))};g.subscribe=function(i){return b(f,i)};g.unsubscribe=function(i){return a(i)};return g}}(tash));