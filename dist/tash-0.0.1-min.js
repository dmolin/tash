window.tash=window.tash||{};(function(c){c.version={major:0,minor:0,sub:1};c.config={namespaceRoot:"",namespaceEventsRoot:""};c.namespace=function(d,h){var g,f=d,e=0;if(typeof d=="string"){h=(c.config.namespaceRoot?c.config.namespaceRoot+".":"")+d;f=window}g=!h?"":h.split(".");for(e in g){if(g.hasOwnProperty(e)){if(typeof f[g[e]]==="undefined"){f[g[e]]={}}f=f[g[e]]}}return f};c.isArray=(typeof Array.isArray==="function"?Array.isArray:function a(d){return d!==undefined&&Object.prototype.toString.call(d).match(/Array/)!==null});c.addToArray=function(f,e){var d=0;if(!c.isArray(f)){return d}if(c.isArray(f)){c.each(e,function(h,g){f.push(h);d++})}else{f.push(e);d++}return d};c.each=function b(g,d,f){var e;if(!c.isArray(g)){return}for(e in g){if(g.hasOwnProperty(e)){if(d.call((f?f:g[e]),g[e],e)===false){break}}}}}(window.tash));if(!Array.prototype.indexOf){Array.prototype.indexOf=function(c){if(this===void 0||this===null){throw new TypeError()}var d=Array.concat([],this);var a=d.length>>>0;if(a===0){return -1}var e=0;if(arguments.length>0){e=Number(arguments[1]);if(e!==e){e=0}else{if(e!==0&&e!==Infinity&&e!==-Infinity){e=(e>0||-1)*Math.floor(Math.abs(e))}}}if(e>=a){return -1}var b=e>=0?e:Math.max(a-Math.abs(e),0);for(;b<a;b++){if(b in d&&d[b]===c){return b}}return -1}}(function(e){e.namespace(e,"events");var d={};function c(g,f){if(!d[g]){return}e.each(d[g],function(i,h){i.callback.apply(i.scope,f||[])})}function b(f,h,g){if(!f||typeof h!=="function"){return false}if(!d[f]){d[f]=[]}d[f].push({callback:h,scope:(g?g:e)});return[f,h]}function a(g){var f;if(typeof g==="undefined"||!e.isArray(g)){return}f=g[0];if(d[f]){e.each(d[f],function(i,h){if(i==g[1]){d[f].splice(h,1)}})}}e.events.require=function(f){var h=e.config.namespaceEventsRoot||e.config.namespaceRoot,g;if(!f||f.length===0){return}h+=h?(f.charAt(0)==="."?f:"."+f):f;g=e.namespace(h);if(typeof g.publish==="function"){return g}g.publish=function(i){c(f,(e.isArray(i)?i:[i]))};g.subscribe=function(i){return b(f,i)};g.unsubscribe=function(i){return a(i)};return g}}(tash));tash.namespace(tash,"debug");(function(d){d.config.debug={isDebug:false,consoleId:"debugConsole"};d.debug.getConsole=(function a(){var f=null;return function(){var o,j,i=[],g,l="#"+d.config.debug.consoleId+"-wrapper",p="#"+d.config.debug.consoleId+" p";function m(s,u){var v,t,r,q;q=[s+" .debugConsole-titlebar {","height: 20px;","background-color: #333;","border-bottom: 1px solid #666;","border-top: 1px solid #888;","}",s+" .debugConsole-titlebar .titlebar-buttons {","float: right;","overflow: hidden;","}",s+" .debugConsole-titlebar .titlebar-buttons .clear-all{","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABBZJREFUeNpMVGtIm1cYfpN8akzUWKPGeIn3GDVacThFYXUqE1eEFmVsxX+tPwqlCO1wqShlP8ag/SGsjLmx7gJDHR2DldJF67zMab2EoquiMXhJTIzRRqNG4zV73tBtPXDQk++c931u54iam5vp5OSEqqqqKCIigra3tykzMzNyf3//cnJycm5QUNB2aGgo/y7zeDy+nZ2droODA7PD4aCsrCzq6uqivb09EtPr4ff7A3+jo6OvJiQkPI2Nja07Pj52OJ3OpZGRkTmpVLpyenqq0Wq1P6nV6gchISHRZ2dn/x4ngQvwPDw8lGRnZ9+Xy+UF8/PzLWtra3+Eh4cTENDm5iYFBweTy+XqcLvdSSjWXFFR8WhhYaERxRf4vCCRSAgLSklJ+RQdMmw22yWsPehIR0dHNDk5GWgkFospJiaGQMkGdDcgQ1NGRsZ3oH0ZIDZE3d3dvOHd0tLSe8PDw+/7fD4XJoGeKCoq6iKKfYQGqsjISAuQ/TIxMdGbn58vn5qa8ubl5X2blJR0MDo6ekMABTFg3hwfH/8aE+hdlJqaKi0vL/9CqVReg042CO5EsSsajeaaQqF4jCa9aPal0WhsaWtrewyztGJUP49NGpPJ9Mjr9RI0IHT6mIsMDQ096Ojo0K6vr7/d2tqavYKRnp5+CdQSQYtEIpFzenr6RUFBwQcCDuplMplTr9e72XoIriwpKWlaXV0d6ezsvIm1HAffwncHqP4Mg+Kg2WRcXBxVVlYSEE4gDoVCfHy8DnS8oBDIErRQY3MUxDWiq7+wsPAWNt8F3au7u7sGdhJIAk4ia+ykG/teCVtbW17ADVKpVITKvOkYB9lJJQJIr6EPDgwMvOQIVFdXk9VqJehFjApxCQYrqaSxsfFcYmLihcHBwR/Hxsaor6/Pm5ubexHBvIDEPgGNP0H5e3S3Q7dk6Oltb28/4yY88dt7KKYW2+32F+h+DlR0DBUu+vr7+w3Ikay2ttYI924jlB/i/8/q6ur+hhSfMDJoGCiE6FQsLi6OitlecH9WVFR0HfpwMJm/cWlp6Qq+7eC+3auvr+8EagPWJnzr5QDjO6HZO4iCEvL8KgJMgisJDQ0Nvy0vL9+ZnZ01cgx0Oh1fCwXWxUCrRJKtEPz5xsbGKRuDhCtqamp6oeFXMzMzDwWLxcJXwZ6WltaCYH4OFwRsfMJdoZEHYethE6BDwCm+Ljk5OaqysrJvQO2vnp6ehyyJBFcjYCcoWIBghanAjRzoYoV7LlyBwD0rLi4m5DEWqBpgxH0UfY5pwAX38zMk/PcMCAIL/bvZbH6JQ00I4g8I6ivotw8tjqBfGHRUcTMMA/Y9wyvw/zNCbwx+CWDvKq7EbUwN0Jyfm5vTI4QyaGMOCwubRWETvwzc+M3xjwADALPAUrORzSeCAAAAAElFTkSuQmCC);","height: 18px;","width: 18px;","float: left;","text-indent: -9999px;","}"];d.addToArray(u,q);v=document.createElement("div");v.setAttribute("class","debugConsole-titlebar");t=document.createElement("div");t.setAttribute("class","titlebar-buttons");r=document.createElement("a");r.setAttribute("href","#");r.setAttribute("class","clear-all");r.onclick=function(){f.parentNode.parentNode.removeChild(f.parentNode);j=null;f=null;return false};r.appendChild(document.createTextNode("clear"));t.appendChild(r);v.appendChild(t);return v}function h(r){var q=[l+" {","font-size: 0.60em;","font-family: Monaco, 'Andale Mono', 'Courier New', 'Lucida Console', 'Lucida Sans Unicode', 'Lucida Grande', courier, sans-serif;","line-height: 1.4em;","display: block;","position: absolute;","bottom: 0;","height: 100px;","width: 100%;","overflow: hidden;","background-color: #000;","opacity: 0.8;","}"];o=document.getElementById(l.substr(1));if(!o){d.addToArray(r,q);o=document.createElement("div");o.id=d.config.debug.consoleId+"-wrapper";o.setAttribute("class","overload-hook");o.appendChild(m(l,i));return true}return false}function n(s,r){var q=["#"+s+" {","overflow: auto;","position: absolute;","top: 22px;","bottom: 0;","width: 100%;","}"];j=document.getElementById(s);if(!j){d.addToArray(r,q);j=document.createElement("div");j.id=s}return j}if(f===null){f=document.getElementById(d.config.debug.consoleId);if(!f){i=["#"+d.config.debug.consoleId+"{","padding: 5px;","color: #aaa;","overflow: auto;","}",p+" {","padding: 0;","margin: 0;","}",p+".log-level-INFO {","color: #12C474;","}",p+".log-level-WARN {","color: #FFC869;","}",p+".log-level-ERR {","color: #FC3232;","}"];var k=h(i);n(d.config.debug.consoleId+"-scroller",i);f=document.createElement("div");f.id=d.config.debug.consoleId;j.appendChild(f);o.appendChild(j);g=document.createElement("style");g.appendChild(document.createTextNode(i.join("")));if(k){document.body.appendChild(g);document.body.appendChild(o)}}}return f}}());d.log=function b(h,j){var f=h,i=d.log.INFO;if(!d.config.debug.isDebug){return}if(["INFO","WARN","ERR "].indexOf(j)>=0){i=j}f="["+i+"] "+h;var g=document.createElement("p");g.setAttribute("class","log-level-"+(j?j.toUpperCase():"INFO"));g.appendChild(document.createTextNode(f));d.debug.getConsole().appendChild(g);g.scrollIntoView()};d.log.INFO="INFO";d.log.WARN="WARN";d.log.ERR="ERR ";d.info=function e(f){d.log(f,d.log.INFO)};d.warn=function c(f){d.log(f,d.log.WARN)};d.err=function c(f){d.log(f,d.log.ERR)}}(tash));